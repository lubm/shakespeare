<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Search Shakespeare's Works</title>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
      <script src="static/js/disable_submission_of_empty_inputs.js" type="text/javascript"></script>
      <script src="static/js/load_definition.js"></script>
      <script type="text/javascript" src="https://www.google.com/jsapi"></script>
      <script type="text/javascript" src="static/js/treemap.js"></script> 
      <script type="text/javascript" src="static/js/results.js"></script> 
      <script type="text/javascript" src="static/js/char_filter.js"></script> 
      <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="/static/css/layout.css">
      <!-- Mobile friendly: support for zoom . TODO: try to access from a mobile phone-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
   <body>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
         <div class="container">
            <div class="navbar-header">
               <a class="navbar-brand" href="/">
                  <div class="logo" id="small-logo">
                     <span class="google-blue">S</span>
                     <span class="google-red">h</span>
                     <span class="google-yellow">a</span>
                     <span class="google-blue">k</span>
                     <span class="google-green">e</span>
                     <span class="google-yellow">s</span>
                     <span class="google-red">p</span>
                     <span class="google-blue">y</span>
                  </div>
               </a>
               <form class="navbar-form navbar-left" role="search" id="search-header" action="/search" method="get">
                  <div class="form-group">
                     <input type="text" name="searched_word" class="form-control non-nulleable-input" value='{{ searched_word }}' id="search-value" placeholder="Enter word">
                  </div>
                  <button type="submit" class="btn btn-default disabled-when-input-is-null-button" id="search-button">Search</button>
               </form>
            </div>
         </div>
      </div>

      <div class="container content">
        <div class="row">
          <div id="filter">
            <select id="work-select">
              <option selected>Any</option>
              {% for work in work_mentions %}
                <option>{{ work }}</option>
              {% endfor %}
            </select>
            <select id="char-select">
              <option selected>Any</option>
            </select>
            <button onclick="filterByWorkAndCharacter()">Filter</button>
          </div>
          <div class="stats"> 
            {{ number_results }} results ({{ time }} seconds)
          </div>
          {% if did_you_mean %}
              <div id="did-you-mean">
                  <span class="google-red"> 
                     Did you mean:
                  </span>
                  <b><i>
                     <a href='/search?searched_word={{did_you_mean}}'> 
                        {{ did_you_mean }}
                     </a>
                  </i></b>
               </div>
            {% endif %}
         </div>
         {% if number_results > 0 %}
         <div id="treemap" class="col-md-8" style="height: 500px;"></div>
         {% endif %}
         <div class="col-md-8 ">
            <div id="results">
              <em>Loading...</em>
            </div>
         </div>
         <div class="col-md-4 box">
            <h3>{{ searched_word }}'s definition:</h3>
            <p id='definition'><i id='loading_message'>Loading...</i></p>
         </div>
      </div>
   </body>
</html>
